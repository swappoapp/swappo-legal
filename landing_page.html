<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Swappo - App</title>
    <meta name="description" content="Swappo App - Exchange, Sell, Save.">
    
    <meta property="og:title" content="Swappo" id="og-title">
    <meta property="og:description" content="Dai nuova vita ai tuoi oggetti." id="og-description">
    <meta property="og:image" content="assets/swappo_logo.png" id="og-image">
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        swappo: {
                            DEFAULT: '#FF8400', // Arancione Swappo
                            dark: '#cc6a00',    
                            light: '#fff3e0'    
                        }
                    }
                }
            }
        }
    </script>

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .fade-in { animation: fadeIn 0.3s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 flex flex-col min-h-screen">

    <nav class="bg-white shadow-sm sticky top-0 z-50">
        <div class="max-w-6xl mx-auto px-4 py-4 flex justify-between items-center">
            <div class="flex items-center">
                <img src="assets/swappo_logo.png" alt="Swappo Logo" class="h-10">
            </div>
            
            <div class="flex space-x-2 text-sm font-semibold">
                <button onclick="setLanguage('it')" class="lang-btn hover:text-swappo px-2 py-1 rounded" id="btn-it">IT</button>
                <span class="text-gray-300">|</span>
                <button onclick="setLanguage('en')" class="lang-btn hover:text-swappo px-2 py-1 rounded" id="btn-en">EN</button>
                <span class="text-gray-300">|</span>
                <button onclick="setLanguage('fr')" class="lang-btn hover:text-swappo px-2 py-1 rounded" id="btn-fr">FR</button>
            </div>
        </div>
    </nav>


    <header class="bg-white overflow-hidden flex-grow relative">
        <div class="max-w-6xl mx-auto px-4 py-12 md:py-20 flex flex-col md:flex-row items-center">
            
            <div class="md:w-1/2 mb-10 md:mb-0 text-center md:text-left z-10">
                <h1 class="text-4xl md:text-6xl font-extrabold text-gray-900 leading-tight mb-6">
                    <span id="hero-title-1">Dai nuova vita ai tuoi</span> <br>
                    <span class="text-swappo" id="hero-title-2">oggetti.</span>
                </h1>
                <p class="text-lg text-gray-600 mb-8 max-w-lg mx-auto md:mx-0" id="hero-subtitle">
                    Non buttarlo, scambialo! Swappo √® il modo pi√π semplice per scambiare prodotti, chattare con gli utenti e concludere affari nella tua zona.
                </p>
                
                <div class="flex flex-col sm:flex-row gap-4 justify-center md:justify-start">
                    <a id="download-link-android" href="https://play.google.com/store/apps/details?id=com.example.swappoFirebase" class="bg-black text-white px-6 py-3 rounded-lg flex items-center justify-center gap-2 hover:bg-gray-800 transition shadow-lg">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M3,20.5V3.5C3,2.91 3.34,2.39 3.84,2.15L13.69,12L3.84,21.85C3.34,21.6 3,21.09 3,20.5M16.81,15.12L6.05,21.34L14.54,12.85L16.81,15.12M20.16,10.81C20.5,11.08 20.75,11.5 20.75,12C20.75,12.5 20.5,12.92 20.16,13.19L17.89,14.5L15.39,12L17.89,9.5L20.16,10.81M6.05,2.66L16.81,8.88L14.54,11.15L6.05,2.66Z" /></svg>
                        <div class="text-left">
                            <div class="text-xs uppercase">Get it on</div>
                            <div class="text-sm font-bold">Google Play</div>
                        </div>
                    </a>
                    <a href="#" class="bg-gray-200 text-gray-800 px-6 py-3 rounded-lg flex items-center justify-center gap-2 hover:bg-gray-300 transition">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M18.71,19.5C17.88,20.74 17,21.95 15.66,21.97C14.32,22 13.89,21.18 12.37,21.18C10.84,21.18 10.37,21.95 9.1,22C7.79,22.05 6.8,20.68 5.96,19.47C4.25,17 2.94,12.45 4.7,9.39C5.57,7.87 7.13,6.91 8.82,6.88C10.1,6.86 11.32,7.75 12.11,7.75C12.89,7.75 14.37,6.68 15.92,6.84C16.57,6.87 18.39,7.1 19.56,8.82C19.47,8.88 17.39,10.1 17.41,12.63C17.44,15.65 20.06,16.66 20.09,16.69C20.06,16.74 19.67,18.11 18.71,19.5M13,3.5C13.73,2.67 14.94,2.04 15.94,2C16.07,3.17 15.6,4.35 14.9,5.19C14.21,6.04 12.89,6.7 11.93,6.6C11.75,5.28 12.23,4.12 13,3.5Z" /></svg>
                        <div class="text-left">
                            <div class="text-xs uppercase" id="btn-apple-sub">Presto disponibile</div>
                            <div class="text-sm font-bold">App Store</div>
                        </div>
                    </a>
                </div>
            </div>

            <div class="md:w-1/2 flex justify-center mt-12 md:mt-0 relative">
                <div class="absolute bg-swappo-light rounded-full w-96 h-96 -z-10 blur-3xl opacity-50"></div>
                <div class="bg-white rounded-[3rem] w-72 h-[550px] shadow-2xl border-8 border-gray-900 relative overflow-hidden flex items-center justify-center">
                    <img src="assets/swappo_splash_screen.png" alt="Swappo App Screenshot" class="w-3/4">
                    <div class="absolute top-0 w-32 h-6 bg-gray-900 rounded-b-xl"></div>
                </div>
            </div>
        </div>
    </header>

    <section class="py-16 bg-swappo-light/30">
        <div class="max-w-6xl mx-auto px-4">
            <div class="grid md:grid-cols-3 gap-8">
                <div class="bg-white p-8 rounded-2xl shadow-sm hover:shadow-md transition text-center h-full flex flex-col items-center">
                    <div class="bg-orange-100 w-16 h-16 rounded-full flex items-center justify-center mb-6 text-swappo text-3xl">üì∏</div>
                    <h3 class="font-bold text-xl mb-3 text-gray-900" id="feat-1-title">Carica in un lampo</h3>
                    <p class="text-gray-600 leading-relaxed" id="feat-1-desc">Scatta una foto, aggiungi due dettagli e il tuo oggetto √® subito online pronto per una nuova vita.</p>
                </div>
                
                <div class="bg-white p-8 rounded-2xl shadow-sm hover:shadow-md transition text-center h-full flex flex-col items-center">
                    <div class="bg-orange-100 w-16 h-16 rounded-full flex items-center justify-center mb-6 text-swappo text-3xl">üìç</div>
                    <h3 class="font-bold text-xl mb-3 text-gray-900" id="feat-2-title">Scambi a Km 0</h3>
                    <p class="text-gray-600 leading-relaxed" id="feat-2-desc">Scopri cosa offrono i tuoi vicini. Scambia a mano, conosci persone e azzera i costi di spedizione.</p>
                </div>
                
                <div class="bg-white p-8 rounded-2xl shadow-sm hover:shadow-md transition text-center h-full flex flex-col items-center">
                    <div class="bg-orange-100 w-16 h-16 rounded-full flex items-center justify-center mb-6 text-swappo text-3xl">üí¨</div>
                    <h3 class="font-bold text-xl mb-3 text-gray-900" id="feat-3-title">Chat Protetta</h3>
                    <p class="text-gray-600 leading-relaxed" id="feat-3-desc">Mettiti d'accordo in totale sicurezza tramite l'app, senza dover mai condividere il tuo numero privato.</p>
                </div>
            </div>
        </div>
    </section>

    <footer class="bg-white border-t py-8 mt-auto">
        <div class="max-w-6xl mx-auto px-4 text-center">
            <div class="flex justify-center flex-wrap gap-6 text-sm font-medium text-gray-500">
                <a href="privacy_it.html" class="hover:text-swappo transition" id="footer-privacy">Privacy Policy</a>
                <a href="terms_it.html" class="hover:text-swappo transition" id="footer-terms">Termini e Condizioni</a>
                <a href="mailto:support@swappoapp.it" class="hover:text-swappo transition" id="footer-contact">Contatti</a>
            </div>
        </div>
    </footer>

    <script>
        // --- 1. CONFIGURAZIONE LINGUA ---
const translations = {
            it: {
                heroTitle1: "Il valore non si compra,",
                heroTitle2: "si scambia.",
                heroSubtitle: "Unisciti a una community che mette al centro il pianeta. Liberati del superfluo, regala una seconda vita ai tuoi oggetti e incontra persone con i tuoi stessi valori.",
                sectionWhyTitle: "Perch√© Swappo?",
                sectionWhyDesc: "Non siamo solo un'app. Siamo una risposta al consumismo sfrenato. Crediamo che ogni oggetto abbia una storia e che scambiarlo sia il modo migliore per allungarne la vita.",
                feat1Title: "Eco-Sostenibile",
                feat2Title: "Community Locale",
                feat3Title: "Economia Circolare",
                footerPrivacy: "Privacy Policy",
                footerTerms: "Termini e Condizioni",
                footerContact: "Contatti",
                linkPrivacy: "privacy_it.html",
                linkTerms: "terms_it.html"
            },
            en: {
                heroTitle1: "Value isn't bought,",
                heroTitle2: "it's exchanged.",
                heroSubtitle: "Join a community that puts the planet first. Get rid of the unnecessary, give your items a second life, and meet people who share your values.",
                sectionWhyTitle: "Why Swappo?",
                sectionWhyDesc: "We are more than an app. We are an answer to mindless consumerism. We believe every item has a story and exchanging is the best way to extend its life.",
                feat1Title: "Eco-Friendly",
                feat2Title: "Local Community",
                feat3Title: "Circular Economy",
                footerPrivacy: "Privacy Policy",
                footerTerms: "Terms & Conditions",
                footerContact: "Contact Us",
                linkPrivacy: "privacy_en.html",
                linkTerms: "terms_en.html"
            },
            fr: {
                heroTitle1: "La valeur ne s'ach√®te pas,",
                heroTitle2: "elle s'√©change.",
                heroSubtitle: "Rejoignez une communaut√© qui place la plan√®te au centre. D√©barrassez-vous du superflu, donnez une seconde vie √† vos objets et partagez vos valeurs.",
                sectionWhyTitle: "Pourquoi Swappo?",
                sectionWhyDesc: "Nous ne sommes pas juste une application. Nous sommes une r√©ponse √† la surconsommation. Chaque objet a une histoire, et l'√©changer est le meilleur moyen de la prolonger.",
                feat1Title: "√âco-Responsable",
                feat2Title: "Communaut√© locale",
                feat3Title: "√âconomie circulaire",
                footerPrivacy: "Politique de confidentialit√©",
                footerTerms: "Conditions g√©n√©rales",
                footerContact: "Contactez-nous",
                linkPrivacy: "privacy_en.html",
                linkTerms: "terms_en.html"
            }
        };
        function setLanguage(lang) {
            const t = translations[lang];
            
            // Testi Generali
            document.getElementById('hero-title-1').textContent = t.heroTitle1;
            document.getElementById('hero-title-2').textContent = t.heroTitle2;
            document.getElementById('hero-subtitle').innerHTML = t.heroSubtitle;
            document.getElementById('btn-apple-sub').textContent = t.appleSub;
            
            // Testi Feature Cards
            document.getElementById('feat-1-title').textContent = t.feat1Title;
            document.getElementById('feat-1-desc').textContent = t.feat1Desc;
            document.getElementById('feat-2-title').textContent = t.feat2Title;
            document.getElementById('feat-2-desc').textContent = t.feat2Desc;
            document.getElementById('feat-3-title').textContent = t.feat3Title;
            document.getElementById('feat-3-desc').textContent = t.feat3Desc;
            
            // Footer
            document.getElementById('footer-privacy').textContent = t.footerPrivacy;
            document.getElementById('footer-terms').textContent = t.footerTerms;
            document.getElementById('footer-contact').textContent = t.footerContact;

            // Link Footer Dinamici
            document.getElementById('footer-privacy').href = t.linkPrivacy;
            document.getElementById('footer-terms').href = t.linkTerms;

            // Stile Bottoni Lingua
            ['it', 'en', 'fr'].forEach(l => {
                const btn = document.getElementById('btn-' + l);
                if (l === lang) {
                    btn.classList.add('text-swappo', 'bg-orange-50');
                } else {
                    btn.classList.remove('text-swappo', 'bg-orange-50');
                }
            });

            // Animazione Fade-in per rendere il cambio lingua pi√π fluido
            document.body.classList.remove('fade-in');
            void document.body.offsetWidth; 
            document.body.classList.add('fade-in');
        }

        // --- 2. LOGICA REDIRECT / DEEP LINK ---
        function checkRedirect() {
            const path = window.location.pathname;
            const urlParams = new URLSearchParams(window.location.search);
            
            const pathSegments = path.split('/').filter(p => p.length > 0 && p !== 'index.html' && p !== 'swappo-legal');
            const pathId = pathSegments.length > 0 && !isNaN(pathSegments[pathSegments.length - 1]) ? pathSegments[pathSegments.length - 1] : null;
            
            const productId = pathId || urlParams.get('p') || urlParams.get('product');

            if (productId) {
                document.getElementById('og-title').setAttribute('content', 'Guarda questo oggetto su Swappo!');
                document.getElementById('og-description').setAttribute('content', 'Clicca per vedere i dettagli e scambiare oggetti sull\'app.');
                
                console.log("Product ID found:", productId);
                
                const ANDROID_PKG = "com.example.swappoFirebase";
                const IOS_APP_ID = "123456789"; 
                
                const DEEP_LINK = "swappo://product/" + productId;
                const PLAY_STORE = "https://play.google.com/store/apps/details?id=" + ANDROID_PKG;
                const APP_STORE = "https://apps.apple.com/app/id" + IOS_APP_ID;
                
                const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
                const fallbackLink = isIOS ? APP_STORE : PLAY_STORE;

                window.location.href = DEEP_LINK;
                
                const dlBtn = document.getElementById('download-link-android');
                if(dlBtn) dlBtn.href = fallbackLink;
            }
        }

        // --- 3. INIT ---
        document.addEventListener('DOMContentLoaded', () => {
            const userLang = navigator.language || navigator.userLanguage; 
            let defaultLang = 'it';
            if (userLang.startsWith('en')) defaultLang = 'en';
            if (userLang.startsWith('fr')) defaultLang = 'fr';
            setLanguage(defaultLang); // Questo sovrascrive il testo HTML con quello JS al caricamento

            checkRedirect();
        });
    </script>
</body>
</html>
