<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Swappo - App</title>
    <meta name="description" content="Swappo App - Exchange, Sell, Save.">
    
    <meta property="og:title" content="Swappo" id="og-title">
    <meta property="og:description" content="Dai nuova vita ai tuoi oggetti." id="og-description">
    <meta property="og:image" content="assets/swappo_logo.png" id="og-image">
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        swappo: {
                            DEFAULT: '#FF8400', // Arancione Swappo
                            dark: '#cc6a00',    
                            light: '#fff3e0'    
                        }
                    }
                }
            }
        }
    </script>

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .fade-in { animation: fadeIn 0.3s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 flex flex-col min-h-screen">

    <nav class="bg-white shadow-sm sticky top-0 z-50">
        <div class="max-w-6xl mx-auto px-4 py-4 flex justify-between items-center">
            <div class="flex items-center">
                <img src="assets/swappo_logo.png" alt="Swappo Logo" class="h-10">
            </div>
            
            <div class="flex space-x-2 text-sm font-semibold">
                <button onclick="setLanguage('it')" class="lang-btn hover:text-swappo px-2 py-1 rounded" id="btn-it">IT</button>
                <span class="text-gray-300">|</span>
                <button onclick="setLanguage('en')" class="lang-btn hover:text-swappo px-2 py-1 rounded" id="btn-en">EN</button>
                <span class="text-gray-300">|</span>
                <button onclick="setLanguage('fr')" class="lang-btn hover:text-swappo px-2 py-1 rounded" id="btn-fr">FR</button>
            </div>
        </div>
    </nav>

<header class="bg-white overflow-hidden relative border-b border-gray-100">
    <div class="max-w-6xl mx-auto px-4 py-16 md:py-24 flex flex-col md:flex-row items-center">
        <div class="md:w-1/2 mb-10 md:mb-0 text-center md:text-left z-10">
            <h1 class="text-4xl md:text-6xl font-extrabold text-gray-900 leading-tight mb-6">
                <span id="hero-title-1">Il valore non si compra,</span> <br>
                <span class="text-swappo" id="hero-title-2">si scambia.</span>
            </h1>
            <p class="text-xl text-gray-600 mb-8 max-w-lg mx-auto md:mx-0" id="hero-subtitle">
                Unisciti a una community che mette al centro il pianeta. Liberati del superfluo, regala una seconda vita ai tuoi oggetti e incontra persone con i tuoi stessi valori.
            </p>
            </div>
        </div>
</header>

    <section class="py-16 bg-swappo-light/30">
        <div class="max-w-6xl mx-auto px-4">
            <div class="grid md:grid-cols-3 gap-8">
                <div class="bg-white p-8 rounded-2xl shadow-sm hover:shadow-md transition text-center h-full flex flex-col items-center">
                    <div class="bg-orange-100 w-16 h-16 rounded-full flex items-center justify-center mb-6 text-swappo text-3xl">üì∏</div>
                    <h3 class="font-bold text-xl mb-3 text-gray-900" id="feat-1-title">Carica in un lampo</h3>
                    <p class="text-gray-600 leading-relaxed" id="feat-1-desc">Scatta una foto, aggiungi due dettagli e il tuo oggetto √® subito online pronto per una nuova vita.</p>
                </div>
                
                <div class="bg-white p-8 rounded-2xl shadow-sm hover:shadow-md transition text-center h-full flex flex-col items-center">
                    <div class="bg-orange-100 w-16 h-16 rounded-full flex items-center justify-center mb-6 text-swappo text-3xl">üìç</div>
                    <h3 class="font-bold text-xl mb-3 text-gray-900" id="feat-2-title">Scambi a Km 0</h3>
                    <p class="text-gray-600 leading-relaxed" id="feat-2-desc">Scopri cosa offrono i tuoi vicini. Scambia a mano, conosci persone e azzera i costi di spedizione.</p>
                </div>
                
                <div class="bg-white p-8 rounded-2xl shadow-sm hover:shadow-md transition text-center h-full flex flex-col items-center">
                    <div class="bg-orange-100 w-16 h-16 rounded-full flex items-center justify-center mb-6 text-swappo text-3xl">üí¨</div>
                    <h3 class="font-bold text-xl mb-3 text-gray-900" id="feat-3-title">Chat Protetta</h3>
                    <p class="text-gray-600 leading-relaxed" id="feat-3-desc">Mettiti d'accordo in totale sicurezza tramite l'app, senza dover mai condividere il tuo numero privato.</p>
                </div>
            </div>
        </div>
    </section>

    <footer class="bg-white border-t py-8 mt-auto">
        <div class="max-w-6xl mx-auto px-4 text-center">
            <div class="flex justify-center flex-wrap gap-6 text-sm font-medium text-gray-500">
                <a href="privacy_it.html" class="hover:text-swappo transition" id="footer-privacy">Privacy Policy</a>
                <a href="terms_it.html" class="hover:text-swappo transition" id="footer-terms">Termini e Condizioni</a>
                <a href="mailto:support@swappoapp.it" class="hover:text-swappo transition" id="footer-contact">Contatti</a>
            </div>
        </div>
    </footer>

    <script>
        // --- 1. CONFIGURAZIONE LINGUA ---
const translations = {
            it: {
                heroTitle1: "Meno sprechi,",
                heroTitle2: "pi√π valore.",
                // Spiega subito la regola d'oro e il bonus benvenuto
                heroSubtitle: "Unisciti alla rivoluzione del riuso. Su Swappo <strong>1 Oggetto = 1 Token</strong>. Carica il tuo primo articolo per ricevere un Token in regalo e prendere subito ci√≤ che vuoi!",
                appleSub: "Presto disponibile",
                mockupText: "Scambia e Risparmia",
                
                // Feature 1: Spiega come si GUADAGNANO i token
                feat1Title: "Svuota l'armadio",
                feat1Desc: "Dai nuova vita a ci√≤ che non usi. Ricorda: per ottenere nuovi Token devi dare via i tuoi prodotti.",
                
                // Feature 2: Community locale
                feat2Title: "A Km Zero",
                feat2Desc: "Trova utenti nel tuo quartiere. Lo scambio a mano √® pi√π veloce, sicuro e sostenibile.",
                
                // Feature 3: Spiega come si SPENDONO i token
                feat3Title: "Tutto a 1 Token",
                feat3Desc: "Niente prezzi complicati. Usa i tuoi Token per prendere ci√≤ che vuoi. Un Token vale sempre un prodotto.",
                
                footerPrivacy: "Privacy Policy",
                footerTerms: "Termini e Condizioni",
                footerContact: "Contatti",
                linkPrivacy: "privacy_it.html",
                linkTerms: "terms_it.html"
            },
            en: {
                heroTitle1: "Less waste,",
                heroTitle2: "more value.",
                heroSubtitle: "Join the reuse revolution. On Swappo <strong>1 Item = 1 Token</strong>. Upload your first item to get a free Token and take what you want immediately!",
                appleSub: "Coming Soon",
                mockupText: "Swap and Save",
                
                feat1Title: "Clear your closet",
                feat1Desc: "Give new life to unused items. Remember: to earn new Tokens, you must give away your products.",
                
                feat2Title: "Go Local",
                feat2Desc: "Find users in your neighborhood. Hand-to-hand exchange is faster, safer, and sustainable.",
                
                feat3Title: "Everything is 1 Token",
                feat3Desc: "No complicated prices. Use your Tokens to get what you want. One Token always equals one product.",
                
                footerPrivacy: "Privacy Policy",
                footerTerms: "Terms & Conditions",
                footerContact: "Contact Us",
                linkPrivacy: "privacy_en.html",
                linkTerms: "terms_en.html"
            },
            fr: {
                heroTitle1: "Moins de d√©chets,",
                heroTitle2: "plus de valeur.",
                heroSubtitle: "Rejoignez la r√©volution du r√©emploi. Sur Swappo <strong>1 Objet = 1 Jeton</strong>. Mettez en ligne votre premier article pour recevoir un Jeton gratuit !",
                appleSub: "Bient√¥t disponible",
                mockupText: "√âchangez et √©conomisez",
                
                feat1Title: "Videz vos placards",
                feat1Desc: "Donnez une seconde vie √† ce que vous n'utilisez pas. Rappel : pour gagner des Jetons, vous devez donner vos produits.",
                
                feat2Title: "Communaut√© locale",
                feat2Desc: "Trouvez des utilisateurs dans votre quartier. L'√©change en main propre est rapide et durable.",
                
                feat3Title: "Tout √† 1 Jeton",
                feat3Desc: "Pas de prix compliqu√©s. Utilisez vos Jetons pour obtenir ce que vous voulez. Un Jeton vaut toujours un produit.",
                
                footerPrivacy: "Politique de confidentialit√©",
                footerTerms: "Conditions g√©n√©rales",
                footerContact: "Contactez-nous",
                linkPrivacy: "privacy_en.html",
                linkTerms: "terms_en.html"
            }
        };
        function setLanguage(lang) {
            const t = translations[lang];
            
            // Testi Generali
            document.getElementById('hero-title-1').textContent = t.heroTitle1;
            document.getElementById('hero-title-2').textContent = t.heroTitle2;
            document.getElementById('hero-subtitle').innerHTML = t.heroSubtitle;
            document.getElementById('btn-apple-sub').textContent = t.appleSub;
            
            // Testi Feature Cards
            document.getElementById('feat-1-title').textContent = t.feat1Title;
            document.getElementById('feat-1-desc').textContent = t.feat1Desc;
            document.getElementById('feat-2-title').textContent = t.feat2Title;
            document.getElementById('feat-2-desc').textContent = t.feat2Desc;
            document.getElementById('feat-3-title').textContent = t.feat3Title;
            document.getElementById('feat-3-desc').textContent = t.feat3Desc;
            
            // Footer
            document.getElementById('footer-privacy').textContent = t.footerPrivacy;
            document.getElementById('footer-terms').textContent = t.footerTerms;
            document.getElementById('footer-contact').textContent = t.footerContact;

            // Link Footer Dinamici
            document.getElementById('footer-privacy').href = t.linkPrivacy;
            document.getElementById('footer-terms').href = t.linkTerms;

            // Stile Bottoni Lingua
            ['it', 'en', 'fr'].forEach(l => {
                const btn = document.getElementById('btn-' + l);
                if (l === lang) {
                    btn.classList.add('text-swappo', 'bg-orange-50');
                } else {
                    btn.classList.remove('text-swappo', 'bg-orange-50');
                }
            });

            // Animazione Fade-in per rendere il cambio lingua pi√π fluido
            document.body.classList.remove('fade-in');
            void document.body.offsetWidth; 
            document.body.classList.add('fade-in');
        }

        // --- 2. LOGICA REDIRECT / DEEP LINK ---
        function checkRedirect() {
            const path = window.location.pathname;
            const urlParams = new URLSearchParams(window.location.search);
            
            const pathSegments = path.split('/').filter(p => p.length > 0 && p !== 'index.html' && p !== 'swappo-legal');
            const pathId = pathSegments.length > 0 && !isNaN(pathSegments[pathSegments.length - 1]) ? pathSegments[pathSegments.length - 1] : null;
            
            const productId = pathId || urlParams.get('p') || urlParams.get('product');

            if (productId) {
                document.getElementById('og-title').setAttribute('content', 'Guarda questo oggetto su Swappo!');
                document.getElementById('og-description').setAttribute('content', 'Clicca per vedere i dettagli e scambiare oggetti sull\'app.');
                
                console.log("Product ID found:", productId);
                
                const ANDROID_PKG = "com.example.swappoFirebase";
                const IOS_APP_ID = "123456789"; 
                
                const DEEP_LINK = "swappo://product/" + productId;
                const PLAY_STORE = "https://play.google.com/store/apps/details?id=" + ANDROID_PKG;
                const APP_STORE = "https://apps.apple.com/app/id" + IOS_APP_ID;
                
                const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
                const fallbackLink = isIOS ? APP_STORE : PLAY_STORE;

                window.location.href = DEEP_LINK;
                
                const dlBtn = document.getElementById('download-link-android');
                if(dlBtn) dlBtn.href = fallbackLink;
            }
        }

        // --- 3. INIT ---
        document.addEventListener('DOMContentLoaded', () => {
            const userLang = navigator.language || navigator.userLanguage; 
            let defaultLang = 'it';
            if (userLang.startsWith('en')) defaultLang = 'en';
            if (userLang.startsWith('fr')) defaultLang = 'fr';
            setLanguage(defaultLang); // Questo sovrascrive il testo HTML con quello JS al caricamento

            checkRedirect();
        });
    </script>
</body>
</html>
